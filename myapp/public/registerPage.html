<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="stylesheets/style.css">
    <title>Register Page</title>
</head> 
<body class="main">
    
	<div class="logo">DuckingDuckCo. <img src="./images/duckingDucjLogo.jpg" alt="" style="height: 50px;"></div>
	<div class="register-box">
    <h1>Register</h1> 
    <form action="/users/register" method="post">

        <div class="textbox">
			<input type="text" placeholder="User:" id="name" maxlength="12" required>
		</div>
        <div class="textbox">
			<input type="text" placeholder="Email:" id="RegEmail">
		</div>
        <div class="textbox">
			<input type="text" placeholder="Password:" id="pass" maxlength="9" required>
		</div>
        <div class="textbox">
			<input type="text" placeholder="Phone:" id="phone" maxlength="10" required>
		</div>

        <button type="submit" class="btn" onsubmit="register()">Register</button>
    </div>
        
    </form> 

    <script>
        const name = document.getElementById('name');
        const RegEmail = document.getElementById('RegEmail');
        const pass = document.getElementById('pass');
        const phone = document.getElementById('phone');

        function register(e) {

            e.preventDefault();
            let data = {
                name:name.value,
                email:RegEmail.value,
                pass:pass.value,          
                phone:phone.value,
                };

            let xml = new XMLHttpRequest();
            xml.open('POST', 'http://localhost:3000/users/register');
            xml.setRequestHeader('Contect-Type', 'application/json');
            xml.send(JSON.stringify(data));
            xml.onload((data)=> {
                console.log(data);
            })
            xml.onerror((error)=> {
                console.log(error);
            })

        }

    </script>
</body>
</html>